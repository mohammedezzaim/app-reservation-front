<!--<button mat-button class="btn btn-primary" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight" (click)="getALlByIceAgence()">-->
<!--  <a class="nav-link" tabindex="-1">-->
<!--    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bell-fill" viewBox="0 0 16 16">-->
<!--      <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2m.995-14.901a1 1 0 1 0-1.99 0A5 5 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901"/>-->
<!--    </svg>-->
<!--    <span class="badge bg-danger">3</span>-->
<!--  </a>-->
<!--</button>-->


<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel" >
    <div class="offcanvas-header">
        <h5 id="offcanvasRightLabel">Notification:</h5>
        <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
  <div *ngIf="displaysucces">
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
      <symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16">
        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
      </symbol>
      <symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16">
        <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
      </symbol>
      <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
        <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
      </symbol>
    </svg>

    <div class="alert alert-success d-flex align-items-center" role="alert">
      <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Success:"><use xlink:href="#check-circle-fill"/></svg>
      <div>
        La réservation est confirmée.
      </div>
    </div>

  </div>
  <div *ngIf="displaysuccesDelete">
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
      <symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16">
        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
      </symbol>
      <symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16">
        <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
      </symbol>
      <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
        <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
      </symbol>
    </svg>

    <div class="alert alert-danger d-flex align-items-center" role="alert">
      <svg class="bi flex-shrink-0 me-2" width="24" height="24" role="img" aria-label="Success:"><use xlink:href="#check-circle-fill"/></svg>
      <div>
        La réservation est rejetée.
      </div>
    </div>

  </div>

    <div *ngIf="authService.roles=='USER'" style="overflow: scroll;" >

        <div *ngFor="let item of notificationClient">
            <div class="notif_card " *ngIf="item.confermer|| item.annuler"     (click)="showDialoge(item) " [ngStyle]="item.visibleClinet==true?{'background-color': '#9393c6'}:{'background-color': '#39394f'}"   >
                <img src="./assets/images/user.png" alt="avatar"
                     style="width: 46px;
    border-radius: 50%;
    height: 50px;
    position: relative;
    top: 0.5rem;" />
                <div style="    font-size: 15px;
    line-height: 24px;
    margin-top: -3rem;
    padding: 0.5rem;
    margin-left: 4rem; ">
                    <p  style="font-size: 15px;line-height: 24px;">
                        appartment de Code <strong *ngIf="item.iceAgence!=null">{{item.iceAgence}}</strong>
                        <strong *ngIf="item.cinPropAppartement!=null">{{item.cinPropAppartement}}</strong>
                        est  reserver <br> par le client de Cin {{item.cinClient}}
                    </p>
                </div>
            </div>
        </div>


    </div>
    <div *ngIf="authService.roles.includes('MANAGER-APT')||authService.roles.includes('MANAGER-VOI')" style="overflow: scroll;">
        <div  class="offcanvas-body" style=" max-height: 85px;margin-bottom:1px;overflow: hidden;background-color: #0dfd853b;border-radius: 13px;" *ngFor="let e of dataByIceAgence">

            <div *ngIf="authService.roles.includes('MANAGER-APT')"  (click)="showDialog(e);getClientByCin(e.cinClient);calculerNombreJours(e.dateDebutReservation,e.dateFinReservation);findApparetementByCode(e.codeAppartement);findReservationByRef()" style="display: flex" >
                <img src="./assets/images/user.png" alt="avatar" style="width: 46px;border-radius: 50%;height: 50px;" />
                <div style="    margin-left: 8px;">
                    <p  style="font-size: 15px;line-height: 24px;">
                        Appartment de code <strong>{{e.codeAppartement}}</strong>
                        est  rserver <br> par le client de cin {{e.cinClient}}
                    </p>
                    <div style="display: inline-block;position: relative;left: 219px;top: -19px;">
                        <span style="font-size: 12px;color: #850202;">1m ago </span>
                        <i [ngClass]="e.isvisible?'bi bi-check2-all':'bi bi-check2'"></i>
                        <!--          <i *ngIf="e.isvisible" style="font-size: 20px;color: aqua;" class="bi bi-check2-all"></i>-->
                        <!--          <i *ngIf="!e.isvisible" style="font-size: 20px;color: #dad5d5;" class="bi bi-check2"></i>-->
                    </div>
                </div>
            </div>



            <div  *ngIf="authService.roles.includes('MANAGER-VOI')" (click)="showDialog(e);getClientByCin(e.cinClient);calculerNombreJours(e.dateDebutReservation,e.dateFinReservation);findVoitureByMatricule(e.matriculeVoiture);findReservationByRef()" style="display: flex">
                <img src="./assets/images/user.png" alt="avatar" style="width: 46px;border-radius: 50%;height: 50px;"/>
                <div  style="margin-left: 8px;">
                    <p style="font-size: 15px;line-height: 24px;">
                        Voiture de matricule <strong>{{e.matriculeVoiture}}</strong>
                        est <br>  rserver  par le client de Cin
                        {{e.cinClient}}
                    </p>
                    <div style="display: inline-block;position: relative;left: 219px;top: -19px;">
                        <span style="font-size: 12px;color: #850202;">1m ago </span>
                        <i [ngClass]="e.isvisible?'bi bi-check2-all':'bi bi-check2'"></i>
                    </div>
                    <!--          <i class="bi bi-check2"></i>-->

                </div>
            </div>
        </div>

    </div>
    <!--    <div class="notif_card " (click)="showDialog(e);getClientByCin(e.cinClient);calculerNombreJours(e.dateDebutReservation,e.dateFinReservation);findApparetementByCode(e.codeAppartement);findReservationByRef() " *ngIf="authService.roles.includes('MANAGER-APT')">-->
    <!--      <img src="./assets/images/user.png" alt="avatar" />-->

    <!--      <div class="description">-->
    <!--        <p class="user_activity">-->
    <!--          appartment de code <strong>{{e.codeAppartement}}</strong>-->
    <!--          est  rserver  par le client de cin <br>-->
    <!--          {{e.cinClient}}-->
    <!--        </p>-->
    <!--        <div class="ez">-->
    <!--          <span style="position: relative;left: 213px;   bottom: 12px;" class="time">1m ago </span>-->
    <!--          <i *ngIf="e.isvisible" class="bi bi-check2-all"></i>-->
    <!--          <i *ngIf="!e.isvisible" class="bi bi-check2"></i>-->
    <!--        </div>-->
    <!--        &lt;!&ndash;          <i class="bi bi-check2"></i>&ndash;&gt;-->

    <!--      </div>-->
    <!--    </div>-->

    <!--    <div class="notif_card " (click)="showDialog(e);getClientByCin(e.cinClient);calculerNombreJours(e.dateDebutReservation,e.dateFinReservation);findVoitureByMatricule(e.matriculeVoiture);findReservationByRef()" *ngIf="authService.roles.includes('MANAGER-VOI')">-->
    <!--      <img src="./assets/images/user.png" alt="avatar" />-->

    <!--      <div class="description">-->
    <!--        <p class="user_activity">-->
    <!--          voiture de matricule <strong>{{e.matriculeVoiture}}</strong>-->
    <!--          est <br>  rserver  par le client de cin-->
    <!--          {{e.cinClient}}-->
    <!--        </p>-->
    <!--        <div class="ez">-->
    <!--          <span style="position: relative;left: 213px;bottom: 12px;" class="time">1m ago </span>-->
    <!--          <i *ngIf="e.isvisible" class="bi bi-check2-all"></i>-->
    <!--          <i *ngIf="!e.isvisible" class="bi bi-check2"></i>-->
    <!--        </div>-->
    <!--        &lt;!&ndash;          <i class="bi bi-check2"></i>&ndash;&gt;-->

    <!--      </div>-->
    <!--    </div>-->

</div>
<!--</div>-->




<p-dialog   [(visible)]="display"  [style]="{width: '720px',height:'420px'}" [header]="'Notification'" [modal]="true" styleClass="p-fluid">




    <div *ngIf="authService.roles.includes('MANAGER-APT')||authService.roles.includes('MANAGER-VOI')" style="display:flex;justify-content: space-around">
        <div>
            <p>Nom Client : {{dataClientByCin.nom}}</p>
            <p>Prenom Client : {{dataClientByCin.prenom}}</p>

            <p *ngIf="authService.roles.includes('MANAGER-APT')">L'adresse de l'apparetement : {{dataApparetementByCode.adresse}}</p>
            <p *ngIf="authService.roles.includes('MANAGER-APT')">Prix de L'apparetement :{{dataApparetementByCode.loyerMensuel}}$</p>

            <p *ngIf="authService.roles.includes('MANAGER-VOI')">Prix de voiture :{{dataVoitureByMatricue.prix}}$</p>

            <p>Nombre de Joure de reservation : {{numberJoures}} Jours</p>
        </div>
      <div>
        <div class="modal fade m-auto" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true" style="height: 400px; width: 720px;">
        <div class="modal-dialog">
          <div class="modal-content" style="background-color: #2e2d2d;">
            <div class="modal-header">

              <h5 class="modal-title" style="color:white" id="staticBackdropLabel">Confirmer la suppression</h5>
              <button type="button" class="btn-close" style="color:white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body d-flex flex-column justify-content-center align-items-center">
              <!-- Icone de close -->
              <i class="material-icons" style="
                   color: #ff000094;
                    border: 2px solid #c10f0f91;
                    border-radius: 50%;
                    font-size: 53px;
                    text-shadow: -6px 0px 20px #a98484;
              ">close</i>

              <!-- Phrase de confirmation -->
              <p style="
              color: red;
                font-size: x-large;
                font-style: italic;
                ">Etes-vous sûr que vous voulez supprimer?</p>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal">Fermer</button>
              <button type="button" class="btn btn-outline-danger" data-bs-dismiss="modal" (click)="deleteReservationByRef()">supprimer</button>
            </div>
          </div>
        </div>
      </div>
      </div>
      <div>
        <div class="modal fade" id="confirmationModal" tabindex="-1" aria-labelledby="confirmationModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content" style="background-color: #2e2d2d;">
              <div class="modal-header">
                <h5 class="modal-title" style="color:white" id="confirmationModalLabel">Confirmer la suppression</h5>
                <button type="button" class="btn-close" style="color:white" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body d-flex flex-column justify-content-center align-items-center">
                <!-- Icone de close -->
                <i class="bi bi-check-circle"  style="
                    color: #00ff0a;
                    border: 2px solid #0fc16091;
                    border-radius: 50%;
                    font-size: 53px;
                    text-shadow: -6px 0px 20px #a98484;
              "></i>

                <!-- Phrase de confirmation -->
                <p style="
              color: #38f72d;
              font-size: x-large;
              font-style: italic;
              ">Êtes-vous sûr de vouloir Confirmer?</p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal">Fermer</button>
                <button type="button" class="btn btn-outline-success" data-bs-dismiss="modal" (click)="handeleSaveLocation()">Confirmer</button>
              </div>
            </div>
          </div>
        </div>
      </div>





        <div>
            <img *ngIf="authService.roles.includes('MANAGER-APT')" [src]="returnUrl(dataApparetementByCode)" style="width: 270px;height:250px " class="img-fluid" alt="">
            <img *ngIf="authService.roles.includes('MANAGER-VOI')" [src]="returnUrl(dataVoitureByMatricue)" style="width: 270px;height:250px " class="img-fluid" alt="">
<!--            <img src="assets/photo/Apparetement/image1.jpg" style="width: 270px;height:250px " class="img-fluid" alt="">-->
        </div>
    </div>

    <div *ngIf="authService.roles=='USER'" [ngStyle]="notifiactionSelectionner.confermer?{'background-color': 'rgba(0, 170, 130, 0.88)'}:{'background-color': 'rgba(170, 0, 40, 0.88)'}"
         class="notif_card "  style="width: 39.5rem; height: 25rem;">
        <div class="description" style="color:white ; padding :6rem">
            <p>Nous sommes heureux de vous informer que votre<br/>
                réservation pour  </p>
            <div *ngIf="notifiactionSelectionner.matriculeVoiture!=null">une voiture
                sur notre plateforme a été confirmée avec succès</div>
            <div *ngIf="notifiactionSelectionner.codeAppartement!=null">une appartement
                sur notre plateforme a été confirmée avec succès</div>

          <!--      ???????????????????????????????????La confirmation d'annulation-->
          <div>
            <div class="modal fade m-auto" id="confirmationAnnuler" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="confirmationAnnulerLabel" aria-hidden="true" style="height: 400px; width: 720px;">
              <div class="modal-dialog">
                <div class="modal-content" style="background-color: #2e2d2d;">
                  <div class="modal-header">

                    <h5 class="modal-title" style="color:white" id="confirmationAnnulerLabel">Confirmer d'annulation</h5>
                    <button type="button" class="btn-close" style="color:white" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body d-flex flex-column justify-content-center align-items-center">
                    <!-- Icone de close -->
                    <i class="material-icons" style="
                   color: #ff000094;
                    border: 2px solid #c10f0f91;
                    border-radius: 50%;
                    font-size: 53px;
                    text-shadow: -6px 0px 20px #a98484;
              ">close</i>

                    <!-- Phrase de confirmation -->
                    <p style="
              color: red;
                font-size: x-large;
                font-style: italic;
                ">Etes-vous sûr que vous voulez annuler?</p>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal">Fermer</button>
                    <button type="button" class="btn btn-outline-danger" data-bs-dismiss="modal" (click)="handelAnnuler(notifiactionSelectionner) ; display=false">Annuler la reservation</button>
                  </div>
                </div>
              </div>
            </div>
          </div>





          <p>Voici les détails de votre réservation :</p>
            <ul>
                <li *ngIf="notifiactionSelectionner.matriculeVoiture!=null">matricule de voiture : {{notifiactionSelectionner.matriculeVoiture}}</li>
                <li *ngIf="notifiactionSelectionner.codeAppartement!=null">code d'appartement : {{notifiactionSelectionner.codeAppartement}}</li>
                <li>Date de début de la location : {{notifiactionSelectionner.dateDebutReservation}}</li>
                <li>Date de fin de la location :{{notifiactionSelectionner.dateFinReservation}}</li>
                <li>réference de réservation :{{notifiactionSelectionner.refReservation}}</li>
            </ul>
        </div>
    </div>







  <ng-template pTemplate="footer">

        <div *ngIf="authService.roles.includes('MANAGER-APT')||authService.roles.includes('MANAGER-VOI')">
<!--            <button *ngIf="reseirvationBollean && !dataAgence.confermer" type="button" class="btn btn-outline-danger btn-sm mx-2" (click)="deleteReservationByRef()">Reject</button>-->
            <button *ngIf="reseirvationBollean && !dataAgence.confermer" type="button" class="btn btn-outline-danger btn-sm mx-2" data-bs-toggle="modal" data-bs-target="#staticBackdrop">Rejeter</button>
            <!--    <button  class="btn btn-outline-danger btn-sm mx-2" (click)="deleteReservationByRef()">Reject</button>-->
            <button *ngIf="reseirvationBollean && !dataAgence.confermer" class="btn btn-outline-success btn-sm mx-2"  data-bs-toggle="modal" data-bs-target="#confirmationModal">Confirmer</button>
        </div>
        <div *ngIf="authService.roles=='USER' && notifiactionSelectionner.confermer==true ">
            si vous voulez d'annuler la location cliquer sur annuler

          <button class="btn btn-outline-danger btn-sm mx-2"  data-bs-toggle="modal" data-bs-target="#confirmationAnnuler">annuler</button>
<!--          <button class="btn btn-outline-danger btn-sm mx-2" (click)="handelAnnuler(notifiactionSelectionner)">annuler</button>-->
            <a class=" btn-sm mx-2" style="cursor: pointer;text-decoration: none" (click)="redirectVersfacture()" ><strong routerLink="/facture">aller vers facture <i class="bi bi-arrow-right-square"></i> </strong> </a>
        </div>


    </ng-template>

</p-dialog >





<!-- Button trigger modal -->

<!-- Modal -->


<!--<div id="myModal" class="modal fade">-->
<!--<div class="modal-dialog modal-confirm">-->
<!--  <div class="modal-content">-->
<!--    <div class="modal-header flex-column">-->
<!--      <div class="icon-box">-->
<!--        <i class="material-icons">&#xE5CD;</i>-->
<!--      </div>-->
<!--      <h4 class="modal-title w-100">Are you sure?</h4>-->
<!--      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>-->
<!--    </div>-->
<!--    <div class="modal-body">-->
<!--      <p>Do you really want to delete these records? This process cannot be undone.</p>-->
<!--    </div>-->
<!--    <div class="modal-footer justify-content-center">-->
<!--      <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>-->
<!--      <button type="button" class="btn btn-danger">Delete</button>-->
<!--    </div>-->
<!--  </div>-->
<!--</div>-->
<!--</div>-->
